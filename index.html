<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Darth Invader - Cyber Attack Simulation Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Educational Disclaimer -->
  <div id="disclaimer" class="disclaimer">
    <div class="disclaimer-content">
      <div class="disclaimer-icon">‚ö†Ô∏è</div>
      <div>
        <h3>EDUCATIONAL SIMULATION ONLY</h3>
        <p>No real network attacks are performed. This tool is for learning cybersecurity concepts in a safe, controlled environment.</p>
      </div>
      <button id="dismissDisclaimer" class="btn-dismiss">Understood</button>
    </div>
  </div>

  <!-- Main Application -->
  <div id="app" class="app">
    <!-- Top Navigation -->
    <nav class="navbar">
      <div class="navbar-content">
        <div class="navbar-brand">
          <svg class="logo" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <path d="M16 2L4 8V16C4 24 16 30 16 30C16 30 28 24 28 16V8L16 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round" fill="none"/>
            <path d="M16 10V22M10 16H22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <h1>Darth Invader</h1>
        </div>
        <div class="navbar-actions">
          <div class="theme-toggle" id="themeToggle" role="button" tabindex="0" aria-label="Toggle theme">
            <svg class="theme-icon theme-icon-light" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="5"/>
              <line x1="12" y1="1" x2="12" y2="3"/>
              <line x1="12" y1="21" x2="12" y2="23"/>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
              <line x1="1" y1="12" x2="3" y2="12"/>
              <line x1="21" y1="12" x2="23" y2="12"/>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
            <svg class="theme-icon theme-icon-dark" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
            <svg class="theme-icon theme-icon-auto" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
              <line x1="8" y1="21" x2="16" y2="21"/>
              <line x1="12" y1="17" x2="12" y2="21"/>
            </svg>
          </div>
          <div class="fps-counter" id="fpsCounter">60 FPS</div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Left Sidebar - Scenario Selector -->
      <aside class="sidebar sidebar-left">
        <h2 class="sidebar-title">Attack Scenarios</h2>
        <div class="scenario-list" id="scenarioList">
          <button class="scenario-card active" data-scenario="ddos">
            <div class="scenario-icon">üí•</div>
            <div class="scenario-info">
              <h3>DDoS Attack</h3>
              <p>Multiple attackers flood server</p>
            </div>
          </button>
          <button class="scenario-card" data-scenario="mitm">
            <div class="scenario-icon">üïµÔ∏è</div>
            <div class="scenario-info">
              <h3>Man-in-the-Middle</h3>
              <p>Intercept communication</p>
            </div>
          </button>
          <button class="scenario-card" data-scenario="firewall">
            <div class="scenario-icon">üõ°Ô∏è</div>
            <div class="scenario-info">
              <h3>Firewall Defense</h3>
              <p>Filter malicious traffic</p>
            </div>
          </button>
          <button class="scenario-card" data-scenario="arpSpoof">
            <div class="scenario-icon">üîÄ</div>
            <div class="scenario-info">
              <h3>ARP Spoofing</h3>
              <p>Poison ARP cache</p>
            </div>
          </button>
        </div>

        <div class="session-controls">
          <h3 class="section-title">Session</h3>
          <button class="btn-secondary btn-full" id="exportSession">
            <span>üì• Export</span>
          </button>
          <button class="btn-secondary btn-full" id="importSession">
            <span>üì§ Import</span>
          </button>
          <input type="file" id="fileInput" accept=".json" style="display: none;">
        </div>
      </aside>

      <!-- Center Panel - Canvas Visualization -->
      <main class="canvas-container">
        <div class="canvas-header">
          <h2 id="scenarioTitle">DDoS Attack Simulation</h2>
          <div class="seed-display">
            <span>Seed:</span>
            <input type="number" id="seedInput" value="12345" class="seed-input">
          </div>
        </div>
        <div class="canvas-wrapper">
          <canvas id="simulationCanvas" width="800" height="600"></canvas>
        </div>
        <div class="control-panel">
          <div class="control-buttons">
            <button id="startBtn" class="btn-primary">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <polygon points="5 3 19 12 5 21 5 3"/>
              </svg>
              <span>Start</span>
            </button>
            <button id="pauseBtn" class="btn-secondary" disabled>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <rect x="6" y="4" width="4" height="16"/>
                <rect x="14" y="4" width="4" height="16"/>
              </svg>
              <span>Pause</span>
            </button>
            <button id="resetBtn" class="btn-secondary">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="1 4 1 10 7 10"/>
                <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
              </svg>
              <span>Reset</span>
            </button>
          </div>
          <div class="control-sliders">
            <div class="slider-group">
              <label for="speedSlider">
                <span>Speed:</span>
                <span id="speedValue">1.0x</span>
              </label>
              <input type="range" id="speedSlider" min="0.5" max="5" step="0.5" value="1" class="slider">
            </div>
            <div class="slider-group">
              <label for="intensitySlider">
                <span>Intensity:</span>
                <span id="intensityValue">50%</span>
              </label>
              <input type="range" id="intensitySlider" min="10" max="100" step="10" value="50" class="slider">
            </div>
          </div>
        </div>
      </main>

      <!-- Right Sidebar - Metrics Panel -->
      <aside class="sidebar sidebar-right">
        <h2 class="sidebar-title">Live Metrics</h2>
        
        <div class="metrics-grid">
          <div class="metric-card">
            <div class="metric-label">Packets Sent</div>
            <div class="metric-value" id="metricPacketsSent">0</div>
          </div>
          <div class="metric-card">
            <div class="metric-label">Packets Received</div>
            <div class="metric-value" id="metricPacketsReceived">0</div>
          </div>
          <div class="metric-card">
            <div class="metric-label">Packets Dropped</div>
            <div class="metric-value" id="metricPacketsDropped">0</div>
          </div>
          <div class="metric-card">
            <div class="metric-label">Packets Blocked</div>
            <div class="metric-value" id="metricPacketsBlocked">0</div>
          </div>
        </div>

        <div class="server-health">
          <div class="health-header">
            <span>Server Load</span>
            <span id="serverLoadPercent">0%</span>
          </div>
          <div class="health-bar">
            <div class="health-bar-fill" id="serverLoadBar" style="width: 0%"></div>
          </div>
        </div>

        <div class="latency-display">
          <div class="latency-label">Average Latency</div>
          <div class="latency-value" id="latencyValue">0 ms</div>
        </div>

        <div class="chart-container">
          <canvas id="metricsChart"></canvas>
        </div>

        <div class="simulation-status">
          <div class="status-indicator" id="statusIndicator">‚óè</div>
          <span id="statusText">Ready</span>
        </div>
      </aside>
    </div>
  </div>

  <script src="utils.js"></script>
  <script src="attacks.js"></script>
  <script src="app.js"></script>
</body>
</html>